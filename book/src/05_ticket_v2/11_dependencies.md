# Dependencies（依存関係）

A package can depend on other packages by listing them in the `[dependencies]` section of its `Cargo.toml` file.\
The most common way to specify a dependency is by providing its name and version:

> パッケージは、その`Cargo.toml`ファイルの`[dependencies]`節内にリストすることで、他のパッケージに依存できます。
> 依存関係を指定する最も一般的な方法は、その名前とバージョンを提供することです。

```toml
[dependencies]
thiserror = "1"
```

This will add `thiserror` as a dependency to your package, with a **minimum** version of `1.0.0`.
`thiserror` will be pulled from [crates.io](https://crates.io), Rust's official package registry.
When you run `cargo build`, `cargo` will go through a few stages:

- Dependency resolution
- Downloading the dependencies
- Compiling your project (your own code and the dependencies)

> これは、`1.0.0`の**最小**バージョンで、パッケージの依存関係として`thiserror`を追加します。
> `thiserror`は、Rustの公式パッケージレジストリである`crates.io`から引き出されます。
> `cargo build`を実行したとき、`cargo`はいくつかのステージを通過します。
>
> - 依存関係の解決
> - 依存関係のダウンロード
> - プロジェクトのコンパイル（独自のコードと依存関係）

Dependency resolution is skipped if your project has a `Cargo.lock` file and your manifest files are unchanged.
A lockfile is automatically generated by `cargo` after a successful round of dependency resolution: it contains
the exact versions of all dependencies used in your project, and is used to ensure that the same versions are
consistently used across different builds (e.g. in CI). If you're working on a project with multiple developers,
you should commit the `Cargo.lock` file to your version control system.

> プロジェクトが`Cargo.lock`ファイルを持っていて、マニフェストファイルが変更されていない場合、依存関係の解決はスキップされます。
> ロックファイルは、依存関係の解決のラウンドが成功した後、`cargo`によって自動的に生成されます。
> ロックファイルは、プロジェクトで使用されるすべての依存関係の正確なバージョンを含み、それは、例えばCIなどの異なるビルドで、同じバーションが一貫して使用されることを確実にするために使用されます。

You can use `cargo update` to update the `Cargo.lock` file with the latest (compatible) versions of all your dependencies.

> すべての依存関係の互換性のある最新バージョンで`Cargo.lock`ファイルを更新するために、`cargo update`を使用できます。

## Path dependencies（パス依存関係）

You can also specify a dependency using a **path**. This is useful when you're working on multiple local packages.

> **パス**を使用して依存関係を指定することもできます。これは、複数のローカルパッケージで作業しているときに便利です。

```toml
[dependencies]
my-library = { path = "../my-library" }
```

The path is relative to the `Cargo.toml` file of the package that's declaring the dependency.

> パスは、依存関係を宣言したパッケージの`Cargo.toml`ファイルに対して相対的です。

### Other sources（他のソース）

Check out the [Cargo documentation](https://doc.rust-lang.org/cargo/reference/specifying-dependencies.html) for more
details on where you can get dependencies from and how to specify them in your `Cargo.toml` file.

> 依存関係を取得できる場所と、`Cargo.toml`ファイル内でそれらを指定する方法の詳細は、Cargoドキュメントを確認してください。

## Dev dependencies（開発依存関係）

You can also specify dependencies that are only needed for development—i.e. they only get pulled in when you're
running `cargo test`.\
They go in the `[dev-dependencies]` section of your `Cargo.toml` file:

> 例えば、`cargo test`を実行しているときのみ引き出されるように、開発でのみ必要な依存関係も指定できます。

```toml
[dev-dependencies]
static_assertions = "1.1.0"
```

We've been using a few of these throughout the book to shorten our tests.

> 本書全体でテストを短縮するために、これらをいくつか使用してきました。
